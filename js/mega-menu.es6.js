!function(){"use strict";var e,t={9671:function(e,t,n){var i=Drupal,o=n.n(i),s=n(6675),r=n(2830);o().behaviors.megaMenu={attach(e,t){const n=e.querySelectorAll(".l-header");n.length&&n.forEach((n=>{new s.Z(n).init();const i=n.querySelector(".c-mega-menu");new r.Z(i,e,{classPrefix:"c-mega-menu",utilityNavClass:!1,searchBlockClass:".c-search__form",imagePath:t.gesso.gessoImagePath}).init()}))}}},6675:function(e,t){t.Z=class{constructor(e,t){let{useArrowKeys:n=!0}=void 0===t?{}:t;this.menu=e,this.menuSections=[],this.openIndex=null,this.useArrowKeys=n,this.topLevelItems=Array.from(this.menu.querySelectorAll("button[aria-expanded][aria-controls]")),this.useArrowKeys&&(this.topLevelItems=[...this.topLevelItems,...Array.from(this.menu.querySelectorAll("a.js-top-level"))]),this.handleClickAnywhere=this.handleClickAnywhere.bind(this),this.handleKeydownAnywhere=this.handleKeydownAnywhere.bind(this)}toggleSection(e,t){e.hidden=!!t||!e.hidden;const n=e.querySelectorAll("button, [href], input, select, textarea, [tabindex]");n.forEach((t=>{t.tabIndex=e.hidden?-1:0})),e.hidden||n[0].focus()}toggleExpand(e,t){this.openIndex!==e&&this.toggleExpand(this.openIndex,!1),this.topLevelItems[e]&&(null===this.openIndex&&this.openMenu(),this.openIndex=t?e:null,this.topLevelItems[e].setAttribute("aria-expanded",t?"true":"false"),this.toggleSection(this.menuSections[e],!t),null===this.openIndex&&this.closeMenu())}controlFocusByKey(e,t,n){switch(e.key){case"ArrowUp":case"ArrowLeft":if(document.activeElement.matches("input"))return;if(e.preventDefault(),n>-1){t[Math.max(0,n-1)].focus()}break;case"ArrowDown":case"ArrowRight":if(document.activeElement.matches("input"))return;if(e.preventDefault(),n>-1){t[Math.min(t.length-1,n+1)].focus()}break;case"Home":e.preventDefault(),t[0].focus();break;case"End":e.preventDefault(),t[t.length-1].focus()}}handleSectionKeydown(e){if(null===this.openIndex||!this.useArrowKeys)return;const t=[...this.menuSections[this.openIndex].querySelectorAll("a, button")],n=t.indexOf(document.activeElement);this.controlFocusByKey(e,t,n)}handleButtonClick(e){const{currentTarget:t}=e,n=this.topLevelItems.indexOf(t);this.toggleExpand(n,"true"!==t.getAttribute("aria-expanded"))}handleButtonKeydown(e){if(!this.useArrowKeys)return;const t=this.topLevelItems.indexOf(document.activeElement);this.openIndex===t&&"ArrowDown"===e.key?(e.preventDefault(),this.menuSections[this.openIndex].querySelector("a, button").focus()):this.controlFocusByKey(e,this.topLevelItems,t)}handleLinkKeydown(e){if(!this.useArrowKeys)return;const t=this.topLevelItems.indexOf(document.activeElement);this.controlFocusByKey(e,this.topLevelItems,t)}handleCloseClick(e){e.preventDefault(),this.toggleExpand(this.openIndex,!1)}prepSection(e){const t=e.parentNode.querySelector(".c-mega-menu__section");if(!t)return;const n=t.querySelector(".c-mega-menu__section-close");this.menuSections.push(t),e.setAttribute("aria-expanded","false"),this.toggleSection(t,!0),t.addEventListener("keydown",this.handleSectionKeydown.bind(this)),e.addEventListener("click",this.handleButtonClick.bind(this)),e.addEventListener("keydown",this.handleButtonKeydown.bind(this)),n.addEventListener("click",this.handleCloseClick.bind(this))}prepLink(e){this.menuSections.push(null),e.addEventListener("keydown",this.handleLinkKeydown.bind(this))}handleClickAnywhere(e){this.menu.contains(e.target)||(this.toggleExpand(this.openIndex,!1),this.closeMenu())}handleKeydownAnywhere(e){"Escape"===e.key&&null!==this.openIndex?(this.menuSections[this.openIndex].focus(),this.toggleExpand(this.openIndex,!1),this.closeMenu()):"Tab"===e.key&&setTimeout((()=>{if(document.activeElement.classList.contains("js-top-level")){const e=this.menu.querySelector('button[aria-expanded="true"]');if(e){const t=this.topLevelItems.indexOf(e);this.toggleExpand(t,!1)}}}),0)}closeMenu(){window.removeEventListener("click",this.handleClickAnywhere),window.removeEventListener("keydown",this.handleKeydownAnywhere),document.body.classList.remove("has-open-menu")}openMenu(){window.addEventListener("click",this.handleClickAnywhere),window.addEventListener("keydown",this.handleKeydownAnywhere),document.body.classList.add("has-open-menu")}init(){this.topLevelItems.forEach((e=>{"BUTTON"===e.tagName?this.prepSection(e):this.prepLink(e)}))}}}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.m=t,e=[],i.O=function(t,n,o,s){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],s=e[c][2];for(var l=!0,a=0;a<n.length;a++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[a])}))?n.splice(a--,1):(l=!1,s<r&&(r=s));if(l){e.splice(c--,1);var h=o();void 0!==h&&(t=h)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,o,s]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.j=9269,function(){var e={9269:0,7681:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,r=n[0],l=n[1],a=n[2],h=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(a)var c=a(i)}for(t&&t(n);h<r.length;h++)s=r[h],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(c)},n=self.webpackChunkgesso=self.webpackChunkgesso||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[9523],(function(){return i(9671)}));o=i.O(o)}();